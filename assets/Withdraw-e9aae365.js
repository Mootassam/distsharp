import{D as p,w as a,u as x,i as f,r as i,o as j,j as s,F as b}from"./index-0e8f3c6f.js";import{S as _}from"./SubHeader-eccac24b.js";import{y as d,a as y,b as v,F as N}from"./yupFormSchemas-99bc6c52.js";import{I as c}from"./InputFormItem-4f16c4d4.js";import{u as S}from"./useDispatch-b139ab9d.js";import"./FormErrors-c0ebe89e.js";const g=p().shape({amount:d.integer(a("entities.transaction.fields.amount"),{required:!0,min:20}),withdrawPassword:d.string(a("user.fields.withdrawPassword"),{required:!0})});function I(){var o;const e=x(f.selectCurrentUser),t=S(),n=i.useCallback(async()=>{try{await t(j.doRefreshCurrentUser())}catch(r){console.error("Error during refreshing items:",r)}},[t]),m=async({amount:r,withdrawPassword:u})=>{const w={status:"pending",date:new Date,user:e?e.id:null,type:"withdraw",amount:r,vip:e,withdrawPassword:u};await t(b.doCreate(w)),await n()};i.useEffect(()=>{},[e,n]);const[h]=i.useState({amount:""}),l=y({resolver:v.yupResolver(g),mode:"onSubmit",defaultValues:h});return s.jsxs("div",{children:[s.jsx(_,{title:"WithDraw",path:"/"}),s.jsxs("div",{className:"withdraw__page",children:[s.jsxs("div",{className:"withdraw__content",children:[s.jsxs("div",{className:"withdraw__header",children:[s.jsx("h3",{className:"hall",style:{paddingTop:0},children:"Withdraw Amount:"}),s.jsxs("span",{style:{color:"white",fontSize:"14px"},children:["Availabe balance : ",((o=e==null?void 0:e.balance)==null?void 0:o.toFixed(2))||0]})]}),s.jsx(N,{...l,children:s.jsx("form",{onSubmit:l.handleSubmit(m),children:s.jsxs("div",{children:[s.jsx(c,{type:"text",name:"amount",placeholder:a("entities.transaction.fields.amount"),className:"input__withdraw"}),s.jsxs("div",{className:"number__click",children:[s.jsx("h3",{className:"hall",style:{paddingTop:0},children:"Withdraw Password:"}),s.jsx(c,{type:"text",name:"withdrawPassword",placeholder:a("user.fields.withdrawPassword"),className:"input__withdraw"})]}),s.jsx("button",{className:"confirm",type:"submit",children:"Confirm"})]})})})]}),s.jsxs("div",{className:"withdraw__rules",children:[s.jsx("div",{className:"rules__title",children:"Rules Description"}),s.jsxs("ul",{className:"rules__list",children:[s.jsx("li",{children:"(1) minimum withdraw is $20"}),s.jsx("li",{children:"(2) The payment shall be made within 24 hours after withdrawal application is requested"}),s.jsx("li",{children:"(3) incomplete daily order submission is subjected to no withdrawal, all products must be submitted for withdrawal"})]})]})]})]})}export{I as default};

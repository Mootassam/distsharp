import{r as v,u as l,k as r,l as b,j as s}from"./index-0e8f3c6f.js";import{L as R}from"./LoadingModal-9c8080d8.js";import{D}from"./Dates-f6439e7d.js";import{N as F}from"./Nodata-f1e265ed.js";import{S as L}from"./SubHeader-eccac24b.js";import{R as S}from"./index-cf021b95.js";import{u as $}from"./useDispatch-b139ab9d.js";import"./v4-4a60fe23.js";class N{}N.calcule__total=(d,c)=>d===""||c===""?"":(parseFloat(c)/100*parseFloat(d)).toFixed(3);function O(){const[d,c]=v.useState("completed"),e=$(),o=l(r.selectRows),n=l(r.selectLoading);l(r.selectTotal);const f=l(r.selectHasRows);v.useEffect(()=>{const a={status:d};e(b.doFetch(a,a))},[e,d]);const g=()=>s.jsx(s.Fragment,{children:o.map((a,C)=>{var i,t,x,j,u,p,h,_;return s.jsxs("div",{className:"single__product",children:[s.jsxs("div",{className:"order__time",children:[s.jsxs("div",{children:["Order Time: ",D.currentDate(a==null?void 0:a.date)]}),s.jsxs("div",{children:["Order Number: ",a.number]})]}),s.jsx("div",{className:`badge__ ${a==null?void 0:a.status}`,children:s.jsx("label",{children:a==null?void 0:a.status})}),s.jsxs("div",{className:"product__image",children:[s.jsx("div",{className:"image__",children:s.jsx("img",{src:(t=(i=a==null?void 0:a.product)==null?void 0:i.photo[0])==null?void 0:t.downloadUrl,alt:""})}),s.jsxs("div",{className:"product__detail",children:[s.jsx("div",{className:"detail__name",children:(x=a==null?void 0:a.product)==null?void 0:x.title}),s.jsxs("div",{className:"detail__price",children:[s.jsx("div",{children:(j=a==null?void 0:a.product)==null?void 0:j.amount}),s.jsxs("div",{children:["      ",s.jsx(S,{initialValue:a==null?void 0:a.rating,readonly:!0,size:24})]})]})]})]}),s.jsxs("div",{className:"bottom__cadre",children:[s.jsxs("div",{className:"cadre__detail",children:[s.jsx("div",{children:"Total order amount"}),s.jsxs("div",{children:["$",(u=a==null?void 0:a.product)==null?void 0:u.amount," "]})]}),s.jsxs("div",{className:"cadre__detail",children:[s.jsx("div",{children:"Commission"}),s.jsxs("div",{children:[(p=a==null?void 0:a.product)==null?void 0:p.commission,"% "]})]}),s.jsxs("div",{className:"cadre__detail",children:[s.jsx("div",{children:"Estimated return"}),s.jsxs("div",{children:["$",N.calcule__total((h=a==null?void 0:a.product)==null?void 0:h.amount,(_=a==null?void 0:a.product)==null?void 0:_.commission)," "]})]})]})]},`${a.id}-${C}`)})});return s.jsxs("div",{children:[s.jsx(L,{title:"order",path:"/profile"}),s.jsxs("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column"},children:[s.jsx("div",{className:"order__list",children:s.jsxs("div",{className:"list__actions",children:[s.jsx("div",{onClick:()=>c("completed"),className:d==="completed"?"active__order":"",children:s.jsx("span",{children:"Completed"})}),s.jsx("div",{onClick:()=>c("pending"),className:d==="pending"?"active__order":"",children:s.jsx("span",{children:"Pending"})}),s.jsx("div",{onClick:()=>c("canceled"),className:d==="canceled"?"active__order":"",children:s.jsx("span",{children:"Canceled"})})]})}),s.jsxs("div",{className:"list__product",children:[n&&s.jsx(R,{}),!n&&o&&s.jsx(g,{})]}),!f&&s.jsx(F,{})]})]})}export{O as default};
